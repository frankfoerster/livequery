/*! Copyright 
 *  (c) 2010, Brandon Aaron (http://brandonaaron.net)
 *  (c) 2012 - 2013, Alexander Zaytsev (http://hazzik.ru/en)
 * Dual licensed under the MIT (MIT_LICENSE.txt)
 * and GPL Version 2 (GPL_LICENSE.txt) licenses.
 *
 * Version: 1.3.3
 * Requires jQuery 1.3+
 * Docs: http://docs.jquery.com/Plugins/livequery
 */
(function(g,j,e){var p="DOMSubtreeModified",b="DOMNodeInserted",o="DOMNodeRemoved",q="DOMNodeInsertedIntoDocument",c="DOMNodeRemovedFromDocument",a="DOMAttrModified",n="DOMCharacterDataModified",m=j.document,i="body";function l(t,u,s,r){return t.selector==u.selector&&t.context==u.context&&(!s||s.$lqguid==u.fn.$lqguid)&&(!r||r.$lqguid==u.fn2.$lqguid)}g.extend(g.fn,{livequery:function(s,r){var t=this,u;g.each(f.queries,function(v,w){if(l(t,w,s,r)){return(u=w)&&false}});u=u||new f(t.selector,t.context,s,r);u.stopped=false;u.run();return t},expire:function(s,r){var t=this;g.each(f.queries,function(u,v){if(l(t,v,s,r)&&!t.stopped){f.stop(v.id)}});return t}});var f=g.livequery=function(r,t,u,s){var v=this;v.selector=r;v.context=t;v.fn=u;v.fn2=s;v.elements=g([]);v.stopped=false;v.id=f.queries.push(v)-1;u.$lqguid=u.$lqguid||f.guid++;if(s){s.$lqguid=s.$lqguid||f.guid++}return v};f.prototype={stop:function(){var r=this;if(r.stopped){return}if(r.fn2){r.elements.each(r.fn2)}r.elements=g([]);r.stopped=true},run:function(){var s=this;if(s.stopped){return}var u=s.elements,r=g(s.selector,s.context),v=r.not(u),t=u.not(r);s.elements=r;v.each(s.fn);if(s.fn2){t.each(s.fn2)}}};g.extend(f,{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(f.running&&f.queue.length){var r=f.queue.length;while(r--){f.queries[f.queue.shift()].run()}}},pause:function(){f.running=false},play:function(){f.running=true;f.run()},registerPlugin:function(){g.each(arguments,function(s,t){if(!g.fn[t]){return}var r=g.fn[t];g.fn[t]=function(){var u=r.apply(this,arguments);f.run();return u}})},run:function(r){if(r!=e){if(g.inArray(r,f.queue)<0){f.queue.push(r)}}else{g.each(f.queries,function(s){if(g.inArray(s,f.queue)<0){f.queue.push(s)}})}if(f.timeout){clearTimeout(f.timeout)}f.timeout=setTimeout(f.checkQueue,20)},stop:function(r){if(r!=e){f.queries[r].stop()}else{g.each(f.queries,f.prototype.stop)}}});var h=function(){f.run()},d=j.MutationObserver||j.WebKitMutationObserver||j.MozMutationObserver;if(d){var k=new d(function(r){r.forEach(h)});k.observe(m,{attributes:true,subtree:true,childList:true,characterData:true,attributeOldValue:true,characterDataOldValue:true})}else{g(function(){var r=(function(){var v={},u=[p,b,o,q,c,a,n],w=g("<div>");for(var t=0;t<u.length;t++){var s=u[t];v[s]=false;w.bind(s,function(x){v[x.type]=true})}w.appendTo(i).attr(i,i).detach().remove();return v})();if(r[p]){g(m).bind(p,h)}else{if(r[b]){g(m).bind(b,h)}else{if(r[q]){g(m).bind(q,h)}else{f.registerPlugin("append","prepend","after","before","wrap","html")}}if(r[o]){g(m).bind(o,h)}else{if(r[c]){g(m).bind(c,h)}else{f.registerPlugin("empty","remove","html")}}}if(r[a]){g(m).bind(a,h)}else{f.registerPlugin("attr","removeAttr","addClass","removeClass","toggleClass","prop","removeProp","html")}})}g(function(){f.play()})})(jQuery,window);